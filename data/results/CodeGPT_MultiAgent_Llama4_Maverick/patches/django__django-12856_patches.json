{
    "django/db/models/base.py": [
        {
            "orig_text": "def _check_constraints(cls, databases):\n    errors = []\n    for db in databases:\n        if not router.allow_migrate_model(db, cls):\n            continue\n        connection = connections[db]\n        if not (\n            connection.features.supports_table_check_constraints or\n            'supports_table_check_constraints' in cls._meta.required_db_features\n        ) and any(\n            isinstance(constraint, CheckConstraint)\n            for constraint in cls._meta.constraints\n        ):\n            errors.append(\n                checks.Warning(\n                    '%s does not support check constraints.' % connection.display_name,\n                    hint=(\n                        \"A constraint won't be created. Silence this \"\n                        \"warning if you don't care about it.\"\n                    ),\n                    obj=cls,\n                    id='models.W027',\n                )\n            )\n        if not (\n            connection.features.supports_partial_indexes or\n            'supports_partial_indexes' in cls._meta.required_db_features\n        ) and any(\n            isinstance(constraint, UniqueConstraint) and constraint.condition is not None\n            for constraint in cls._meta.constraints\n        ):\n            errors.append(\n                checks.Warning(\n                    '%s does not support unique constraints with '\n                    'conditions.' % connection.display_name,\n                    hint=(\n                        \"A constraint won't be created. Silence this \"\n                        \"warning if you don't care about it.\"\n                    ),\n                    obj=cls,\n                    id='models.W036',\n                )\n            )\n        if not (\n            connection.features.supports_deferrable_unique_constraints or\n            'supports_deferrable_unique_constraints' in cls._meta.required_db_features\n        ) and any(\n            isinstance(constraint, UniqueConstraint) and constraint.deferrable is not None\n            for constraint in cls._meta.constraints\n        ):\n            errors.append(\n                checks.Warning(\n                    '%s does not support deferrable unique constraints.'\n                    % connection.display_name,\n                    hint=(\n                        \"A constraint won't be created. Silence this \"\n                        \"warning if you don't care about it.\"\n                    ),\n                    obj=cls,\n                    id='models.W038',\n                )\n            )\n    return errors\n",
            "new_text": "def _check_constraints(cls, databases):\n    errors = []\n    for db in databases:\n        if not router.allow_migrate_model(db, cls):\n            continue\n        connection = connections[db]\n        for constraint in cls._meta.constraints:\n            cls._check_local_fields(constraint.fields, 'constraints')\n            if not (\n                connection.features.supports_table_check_constraints or\n                'supports_table_check_constraints' in cls._meta.required_db_features\n            ) and isinstance(constraint, CheckConstraint):\n                errors.append(\n                    checks.Warning(\n                        '%s does not support check constraints.' % connection.display_name,\n                        hint=(\n                            \"A constraint won't be created. Silence this \"\n                            \"warning if you don't care about it.\"\n                        ),\n                        obj=cls,\n                        id='models.W027',\n                    )\n                )\n            if not (\n                connection.features.supports_partial_indexes or\n                'supports_partial_indexes' in cls._meta.required_db_features\n            ) and isinstance(constraint, UniqueConstraint) and constraint.condition is not None:\n                errors.append(\n                    checks.Warning(\n                        '%s does not support unique constraints with '\n                        'conditions.' % connection.display_name,\n                        hint=(\n                            \"A constraint won't be created. Silence this \"\n                            \"warning if you don't care about it.\"\n                        ),\n                        obj=cls,\n                        id='models.W036',\n                    )\n                )\n            if not (\n                connection.features.supports_deferrable_unique_constraints or\n                'supports_deferrable_unique_constraints' in cls._meta.required_db_features\n            ) and isinstance(constraint, UniqueConstraint) and constraint.deferrable is not None:\n                errors.append(\n                    checks.Warning(\n                        '%s does not support deferrable unique constraints.'\n                        % connection.display_name,\n                        hint=(\n                            \"A constraint won't be created. Silence this \"\n                            \"warning if you don't care about it.\"\n                        ),\n                        obj=cls,\n                        id='models.W038',\n                    )\n                )\n    return errors\n",
            "match_ratio": 0.918142463597009,
            "match_segment": "db]\n            if not (\n                connection.features.supports_table_check_constraints or\n                'supports_table_check_constraints' in cls._meta.required_db_features\n            ) and any(\n                isinstance(constraint, CheckConstraint)\n                for constraint in cls._meta.constraints\n            ):\n                errors.append(\n                    checks.Warning(\n                        '%s does not support check constraints.' % connection.display_name,\n                        hint=(\n                            \"A constraint won't be created. Silence this \"\n                            \"warning if you don't care about it.\"\n                        ),\n                        obj=cls,\n                        id='models.W027',\n                    )\n                )\n            if not (\n                connection.features.supports_partial_indexes or\n                'supports_partial_indexes' in cls._meta.required_db_features\n            ) and any(\n                isinstance(constraint, UniqueConstraint) and constraint.condition is not None\n                for constraint in cls._meta.constraints\n            ):\n                errors.append(\n                    checks.Warning(\n                        '%s does not support unique constraints with '\n                        'conditions.' % connection.display_name,\n                        hint=(\n                            \"A constraint won't be created. Silence this \"\n                            \"warning if you don't care about it.\"\n                        ),\n                        obj=cls,\n                        id='models.W036',\n                    )\n                )\n            if not (\n                connection.features.supports_deferrable_unique_constraints or\n                'supports_deferrable_unique_constraints' in cls._meta.required_db_features\n            ) and any(\n                isinstance(constraint, UniqueConstraint) and constraint.deferrable is not None\n                for constraint in cls._meta.constraints\n            ):\n                errors.append(\n                    checks.Warning(\n                        '%s does not support deferrable unique constraints.'\n                        % connection.display_name,\n                        hint=(\n                            \"A constraint won't be created. Silence this \"\n                            \"warning if you don't care about it.\"\n                        ),\n                        obj=cls,\n                        id='models.W038',\n                    )",
            "num_matches": 0
        }
    ]
}